<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>simba.mixins.config_reader &mdash; SimBA 0.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/simba_theme.css" />
      <link rel="stylesheet" type="text/css" href="../../../_static/togglebutton.css" />

  
    <link rel="shortcut icon" href="../../../_static/readthedocs_logo.png"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../../../_static/togglebutton.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            SimBA
              <img src="../../../_static/readthedocs_logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">API REFERENCE:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../api.html">API Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NOTEBOOKS:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../notebooks.html">Notebooks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">USER GUIDE / TUTORIALS:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials.html">Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">WALKTHROUGHS:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../walkthroughs.html">Walkthroughs</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">LABELLING TUTORIALS:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../labelling.html">Labelling</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FAQ:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../tutorials_rst/FAQ.html">Friendly Asked Questions (FAQ)</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">DOCS:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../docs/workflow.html">SimBA basic workflow</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">ABOUT:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../credits.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../credits.html#who-writes-this-stuff">Who writes this stuff??</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../links.html">Links</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">SimBA</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">simba.mixins.config_reader</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for simba.mixins.config_reader</h1><div class="highlight"><pre>
<span></span><span class="n">__author__</span> <span class="o">=</span> <span class="s2">&quot;Simon Nilsson&quot;</span>

<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">import</span> <span class="nn">logging.config</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">shutil</span>
<span class="kn">from</span> <span class="nn">ast</span> <span class="kn">import</span> <span class="n">literal_eval</span>
<span class="kn">from</span> <span class="nn">configparser</span> <span class="kn">import</span> <span class="n">ConfigParser</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="k">try</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Literal</span>
<span class="k">except</span><span class="p">:</span>
    <span class="kn">from</span> <span class="nn">typing_extensions</span> <span class="kn">import</span> <span class="n">Literal</span>

<span class="kn">from</span> <span class="nn">simba.utils.checks</span> <span class="kn">import</span> <span class="p">(</span><span class="n">check_file_exist_and_readable</span><span class="p">,</span>
                                <span class="n">check_if_dir_exists</span><span class="p">,</span>
                                <span class="n">check_if_filepath_list_is_empty</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">simba.utils.enums</span> <span class="kn">import</span> <span class="n">ConfigKey</span><span class="p">,</span> <span class="n">Defaults</span><span class="p">,</span> <span class="n">Dtypes</span><span class="p">,</span> <span class="n">Keys</span><span class="p">,</span> <span class="n">Paths</span>
<span class="kn">from</span> <span class="nn">simba.utils.errors</span> <span class="kn">import</span> <span class="p">(</span><span class="n">BodypartColumnNotFoundError</span><span class="p">,</span> <span class="n">DataHeaderError</span><span class="p">,</span>
                                <span class="n">DuplicationError</span><span class="p">,</span> <span class="n">InvalidInputError</span><span class="p">,</span>
                                <span class="n">MissingProjectConfigEntryError</span><span class="p">,</span>
                                <span class="n">NoFilesFoundError</span><span class="p">,</span> <span class="n">NoROIDataError</span><span class="p">,</span>
                                <span class="n">NotDirectoryError</span><span class="p">,</span> <span class="n">ParametersFileError</span><span class="p">,</span>
                                <span class="ne">PermissionError</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">simba.utils.lookups</span> <span class="kn">import</span> <span class="p">(</span><span class="n">create_color_palettes</span><span class="p">,</span> <span class="n">get_color_dict</span><span class="p">,</span>
                                 <span class="n">get_emojis</span><span class="p">,</span> <span class="n">get_log_config</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">simba.utils.printing</span> <span class="kn">import</span> <span class="n">SimbaTimer</span><span class="p">,</span> <span class="n">stdout_success</span>
<span class="kn">from</span> <span class="nn">simba.utils.read_write</span> <span class="kn">import</span> <span class="p">(</span><span class="n">find_core_cnt</span><span class="p">,</span> <span class="n">get_all_clf_names</span><span class="p">,</span>
                                    <span class="n">get_fn_ext</span><span class="p">,</span> <span class="n">read_config_file</span><span class="p">,</span> <span class="n">read_df</span><span class="p">,</span>
                                    <span class="n">read_project_path_and_file_type</span><span class="p">,</span> <span class="n">write_df</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">simba.utils.warnings</span> <span class="kn">import</span> <span class="p">(</span><span class="n">BodypartColumnNotFoundWarning</span><span class="p">,</span>
                                  <span class="n">InvalidValueWarning</span><span class="p">,</span> <span class="n">NoDataFoundWarning</span><span class="p">,</span>
                                  <span class="n">NoFileFoundWarning</span><span class="p">)</span>


<div class="viewcode-block" id="ConfigReader"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader">[docs]</a><span class="k">class</span> <span class="nc">ConfigReader</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Methods for reading SimBA configparser.Configparser project config and associated project data.</span>

<span class="sd">    :param configparser.Configparser config_path: path to SimBA project_config.ini</span>
<span class="sd">    :param bool read_video_info: if true, read the project_folder/logs/video_info.csv file.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">config_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">read_video_info</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">create_logger</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">SimbaTimer</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config_path</span> <span class="o">=</span> <span class="n">config_path</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">read_config_file</span><span class="p">(</span><span class="n">config_path</span><span class="o">=</span><span class="n">config_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">datetime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y%m</span><span class="si">%d</span><span class="s2">%H%M%S&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span> <span class="o">=</span> <span class="n">read_project_path_and_file_type</span><span class="p">(</span>
            <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_csv_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">INPUT_CSV</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">features_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">FEATURES_EXTRACTED_DIR</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">targets_folder</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">TARGETS_INSERTED_DIR</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_frames_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">INPUT_FRAMES_DIR</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">machine_results_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">MACHINE_RESULTS_DIR</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">directionality_df_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">DIRECTIONALITY_DF_DIR</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body_part_directionality_df_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">BODY_PART_DIRECTIONALITY_DF_DIR</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outlier_corrected_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">OUTLIER_CORRECTED</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outlier_corrected_movement_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">OUTLIER_CORRECTED_MOVEMENT</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">heatmap_clf_location_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">HEATMAP_CLF_LOCATION_DIR</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">heatmap_location_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">HEATMAP_LOCATION_DIR</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">line_plot_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">LINE_PLOT_DIR</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">probability_plot_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">PROBABILITY_PLOTS_DIR</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">gantt_plot_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">GANTT_PLOT_DIR</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">path_plot_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">PATH_PLOT_DIR</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">shap_logs_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">SHAP_LOGS</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_info_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">VIDEO_INFO</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">frames_output_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">FRAMES_OUTPUT_DIR</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">font</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">FONT_HERSHEY_COMPLEX</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">roi_features_save_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">ROI_FEATURES</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">configs_meta_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="s2">&quot;configs&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sklearn_plot_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">SKLEARN_RESULTS</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">detailed_roi_data_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">DETAILED_ROI_DATA_DIR</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">directing_animals_video_output_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">DIRECTING_BETWEEN_ANIMALS_OUTPUT_PATH</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">directing_body_part_animal_video_output_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span>
            <span class="n">Paths</span><span class="o">.</span><span class="n">DIRECTING_BETWEEN_ANIMAL_BODY_PART_OUTPUT_PATH</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">animal_cnt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_config_entry</span><span class="p">(</span>
            <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
            <span class="n">section</span><span class="o">=</span><span class="n">ConfigKey</span><span class="o">.</span><span class="n">GENERAL_SETTINGS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">option</span><span class="o">=</span><span class="n">ConfigKey</span><span class="o">.</span><span class="n">ANIMAL_CNT</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">data_type</span><span class="o">=</span><span class="n">Dtypes</span><span class="o">.</span><span class="n">INT</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bodypart_direction</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_config_entry</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
            <span class="n">section</span><span class="o">=</span><span class="n">ConfigKey</span><span class="o">.</span><span class="n">DIRECTIONALITY_SETTINGS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">option</span><span class="o">=</span><span class="n">ConfigKey</span><span class="o">.</span><span class="n">BODYPART_DIRECTION_VALUE</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">data_type</span><span class="o">=</span><span class="n">Dtypes</span><span class="o">.</span><span class="n">STR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">default_value</span><span class="o">=</span><span class="n">Dtypes</span><span class="o">.</span><span class="n">NONE</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clf_cnt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_config_entry</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">ConfigKey</span><span class="o">.</span><span class="n">SML_SETTINGS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">ConfigKey</span><span class="o">.</span><span class="n">TARGET_CNT</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">Dtypes</span><span class="o">.</span><span class="n">INT</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clf_names</span> <span class="o">=</span> <span class="n">get_all_clf_names</span><span class="p">(</span><span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span> <span class="n">target_cnt</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">clf_cnt</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">feature_file_paths</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">features_dir</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;/*.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">target_file_paths</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">targets_folder</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;/*.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">input_csv_paths</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">input_csv_dir</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;/*.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body_part_directionality_paths</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">body_part_directionality_df_dir</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;/*.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outlier_corrected_paths</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">outlier_corrected_dir</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;/*.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outlier_corrected_movement_paths</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">outlier_corrected_movement_dir</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;/*.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cpu_cnt</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">cpu_to_use</span> <span class="o">=</span> <span class="n">find_core_cnt</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">machine_results_paths</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">machine_results_dir</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;/*.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="si">}</span><span class="s2">&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logs_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="s2">&quot;logs&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body_parts_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">BP_NAMES</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="n">check_file_exist_and_readable</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">body_parts_path</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body_parts_lst</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">body_parts_path</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">to_list</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">body_parts_lst</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">body_parts_lst</span> <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">!=</span> <span class="s2">&quot;nan&quot;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_body_part_names</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">get_bp_headers</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">bp_col_names</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">x_cols</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_cols</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">p_cols</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pose_setting</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_config_entry</span><span class="p">(</span>
            <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
            <span class="n">section</span><span class="o">=</span><span class="n">ConfigKey</span><span class="o">.</span><span class="n">CREATE_ENSEMBLE_SETTINGS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">option</span><span class="o">=</span><span class="n">ConfigKey</span><span class="o">.</span><span class="n">POSE_SETTING</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
            <span class="n">data_type</span><span class="o">=</span><span class="n">Dtypes</span><span class="o">.</span><span class="n">STR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">roi_coordinates_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logs_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">ROI_DEFINITIONS</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="s2">&quot;videos&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clf_validation_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">CLF_VALIDATION_DIR</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clf_data_validation_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="s2">&quot;csv&quot;</span><span class="p">,</span> <span class="s2">&quot;validation&quot;</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">annotated_frm_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">ANNOTATED_FRAMES_DIR</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">single_validation_video_save_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">SINGLE_CLF_VALIDATION</span><span class="o">.</span><span class="n">value</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">data_table_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">DATA_TABLE</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">check_multi_animal_status</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multiprocess_chunksize</span> <span class="o">=</span> <span class="n">Defaults</span><span class="o">.</span><span class="n">CHUNK_SIZE</span><span class="o">.</span><span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">maxtasksperchild</span> <span class="o">=</span> <span class="n">Defaults</span><span class="o">.</span><span class="n">MAX_TASK_PER_CHILD</span><span class="o">.</span><span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clr_lst</span> <span class="o">=</span> <span class="n">create_color_palettes</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">animal_cnt</span><span class="p">,</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">x_cols</span><span class="p">))</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">animal_bp_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">create_body_part_dictionary</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">multi_animal_status</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">multi_animal_id_list</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">animal_cnt</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x_cols</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y_cols</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">p_cols</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clr_lst</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">project_bps</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">([</span><span class="n">x</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">bp_headers</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">color_dict</span> <span class="o">=</span> <span class="n">get_color_dict</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">create_logger</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">create_logger</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">emojis</span> <span class="o">=</span> <span class="n">get_emojis</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">read_video_info</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">video_info_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_video_info_csv</span><span class="p">(</span>
                <span class="n">file_path</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">video_info_path</span>
            <span class="p">)</span>

<div class="viewcode-block" id="ConfigReader.read_roi_data"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.read_roi_data">[docs]</a>    <span class="k">def</span> <span class="nf">read_roi_data</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Method to read in ROI definitions from SimBA project</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">roi_coordinates_path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">NoROIDataError</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="s2">&quot;SIMBA ERROR: No ROI definitions were found in your SimBA project. Please draw some ROIs before analyzing your ROI data&quot;</span><span class="p">,</span> <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">rectangles_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_hdf</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">roi_coordinates_path</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_RECTANGLES</span><span class="o">.</span><span class="n">value</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="s2">&quot;Center_X&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rectangles_df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">rectangles_df</span><span class="p">[</span><span class="s2">&quot;Center_X&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">isnull</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">any</span><span class="p">()</span>
            <span class="p">):</span>
                <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">rectangles_df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">rectangles_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="s2">&quot;Center_X&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;Tags&quot;</span><span class="p">][</span><span class="s2">&quot;Center tag&quot;</span><span class="p">][</span>
                        <span class="mi">0</span>
                    <span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">rectangles_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">idx</span><span class="p">][</span><span class="s2">&quot;Center_Y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s2">&quot;Tags&quot;</span><span class="p">][</span><span class="s2">&quot;Center tag&quot;</span><span class="p">][</span>
                        <span class="mi">1</span>
                    <span class="p">]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">circles_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_hdf</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">roi_coordinates_path</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_CIRCLES</span><span class="o">.</span><span class="n">value</span>
            <span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">how</span><span class="o">=</span><span class="s2">&quot;any&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">polygon_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_hdf</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">roi_coordinates_path</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_POLYGONS</span><span class="o">.</span><span class="n">value</span>
            <span class="p">)</span>
            <span class="k">if</span> <span class="s2">&quot;Center_XCenter_Y&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">polygon_df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">polygon_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">polygon_df</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s2">&quot;Center_XCenter_Y&quot;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">polygon_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">polygon_df</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">how</span><span class="o">=</span><span class="s2">&quot;any&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">shape_names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rectangles_df</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">polygon_df</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">circles_df</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span> <span class="o">=</span> <span class="p">{</span>
                <span class="n">Keys</span><span class="o">.</span><span class="n">ROI_RECTANGLES</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rectangles_df</span><span class="p">,</span>
                <span class="n">Keys</span><span class="o">.</span><span class="n">ROI_CIRCLES</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">circles_df</span><span class="p">,</span>
                <span class="n">Keys</span><span class="o">.</span><span class="n">ROI_POLYGONS</span><span class="o">.</span><span class="n">value</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">polygon_df</span><span class="p">,</span>
            <span class="p">}</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">roi_types_names_lst</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_RECTANGLES</span><span class="o">.</span><span class="n">value</span><span class="p">]</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">roi_types_names_lst</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Rectangle: </span><span class="si">{</span><span class="n">r</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_CIRCLES</span><span class="o">.</span><span class="n">value</span><span class="p">]</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">roi_types_names_lst</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Circle: </span><span class="si">{</span><span class="n">r</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">idx</span><span class="p">,</span> <span class="n">r</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_POLYGONS</span><span class="o">.</span><span class="n">value</span><span class="p">]</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">roi_types_names_lst</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Polygon: </span><span class="si">{</span><span class="n">r</span><span class="p">[</span><span class="s2">&quot;Name&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">roi_types_names_lst</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">roi_types_names_lst</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">shape_type</span><span class="p">,</span> <span class="n">shape_data</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">if</span> <span class="n">shape_type</span> <span class="o">==</span> <span class="n">Keys</span><span class="o">.</span><span class="n">ROI_CIRCLES</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_CIRCLES</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s2">&quot;Center_X&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span>
                        <span class="n">Keys</span><span class="o">.</span><span class="n">ROI_CIRCLES</span><span class="o">.</span><span class="n">value</span>
                    <span class="p">][</span><span class="s2">&quot;centerX&quot;</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_CIRCLES</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s2">&quot;Center_Y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span>
                        <span class="n">Keys</span><span class="o">.</span><span class="n">ROI_CIRCLES</span><span class="o">.</span><span class="n">value</span>
                    <span class="p">][</span><span class="s2">&quot;centerY&quot;</span><span class="p">]</span>
                <span class="k">elif</span> <span class="n">shape_type</span> <span class="o">==</span> <span class="n">Keys</span><span class="o">.</span><span class="n">ROI_RECTANGLES</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_RECTANGLES</span><span class="o">.</span><span class="n">value</span><span class="p">][</span>
                        <span class="s2">&quot;Center_X&quot;</span>
                    <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_RECTANGLES</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s2">&quot;Bottom_right_X&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_RECTANGLES</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s2">&quot;width&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
                    <span class="p">)</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_RECTANGLES</span><span class="o">.</span><span class="n">value</span><span class="p">][</span>
                        <span class="s2">&quot;Center_Y&quot;</span>
                    <span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_RECTANGLES</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s2">&quot;Bottom_right_Y&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="p">(</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_RECTANGLES</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s2">&quot;height&quot;</span><span class="p">]</span> <span class="o">/</span> <span class="mi">2</span>
                    <span class="p">)</span>
                <span class="k">elif</span> <span class="n">shape_type</span> <span class="o">==</span> <span class="n">Keys</span><span class="o">.</span><span class="n">ROI_POLYGONS</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
                    <span class="k">try</span><span class="p">:</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_POLYGONS</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s2">&quot;Center_X&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_POLYGONS</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s2">&quot;Center_X&quot;</span><span class="p">]</span>
                        <span class="p">)</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_POLYGONS</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s2">&quot;Center_Y&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                            <span class="bp">self</span><span class="o">.</span><span class="n">roi_dict</span><span class="p">[</span><span class="n">Keys</span><span class="o">.</span><span class="n">ROI_POLYGONS</span><span class="o">.</span><span class="n">value</span><span class="p">][</span><span class="s2">&quot;Center_Y&quot;</span><span class="p">]</span>
                        <span class="p">)</span>
                    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
                        <span class="k">pass</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">video_names_w_rois</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span>
                <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rectangles_df</span><span class="p">[</span><span class="s2">&quot;Video&quot;</span><span class="p">])</span>
                <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">circles_df</span><span class="p">[</span><span class="s2">&quot;Video&quot;</span><span class="p">])</span>
                <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">polygon_df</span><span class="p">[</span><span class="s2">&quot;Video&quot;</span><span class="p">])</span>
            <span class="p">)</span></div>

<div class="viewcode-block" id="ConfigReader.get_all_clf_names"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.get_all_clf_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_all_clf_names</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper to return all classifier names in SimBA project</span>

<span class="sd">        :return List[str]:</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">model_names</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clf_cnt</span><span class="p">):</span>
            <span class="n">entry_name</span> <span class="o">=</span> <span class="s2">&quot;target_name_</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="n">model_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">read_config_entry</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
                    <span class="n">ConfigKey</span><span class="o">.</span><span class="n">SML_SETTINGS</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                    <span class="n">entry_name</span><span class="p">,</span>
                    <span class="n">data_type</span><span class="o">=</span><span class="n">Dtypes</span><span class="o">.</span><span class="n">STR</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">model_names</span></div>

<div class="viewcode-block" id="ConfigReader.insert_column_headers_for_outlier_correction"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.insert_column_headers_for_outlier_correction">[docs]</a>    <span class="k">def</span> <span class="nf">insert_column_headers_for_outlier_correction</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">data_df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">new_headers</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">filepath</span><span class="p">:</span> <span class="nb">str</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper to insert new column headers onto a dataframe.</span>

<span class="sd">        :param pd.DataFrame data_df:  Dataframe where headers to to-bo replaced.</span>
<span class="sd">        :param List[str] new_headers:  Names of new headers.</span>
<span class="sd">        :param str filepath:  Path to where ``data_df`` is stored on disk</span>
<span class="sd">        :returns pd.DataFrame: Dataframe with new headers</span>
<span class="sd">        :raises DataHeaderWarning: If new headers are fewer/more than columns in dataframe</span>

<span class="sd">        :example:</span>
<span class="sd">        &gt;&gt;&gt; df = pd.DataFrame(data=[[1, 2, 3], [1, 2, 3]], columns=[&#39;Feature_1&#39;, &#39;Feature_2&#39;, &#39;Feature_3&#39;])</span>
<span class="sd">        &gt;&gt;&gt; ConfigReader.insert_column_headers_for_outlier_correction(data_df=df, new_headers=[&#39;Feature_4&#39;, &#39;Feature_5&#39;, &#39;Feature_6&#39;], filepath=&#39;test/my_test_file.csv&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_headers</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="n">data_df</span><span class="o">.</span><span class="n">columns</span><span class="p">):</span>
            <span class="n">difference</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">data_df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">new_headers</span><span class="p">))</span>
            <span class="n">bp_missing</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">abs</span><span class="p">(</span><span class="n">difference</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">difference</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">DataHeaderError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SIMBA ERROR: SimBA expects </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">new_headers</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns of data inside the files within project_folder/csv/input_csv directory. However, within file </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2"> file, SimBA found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">data_df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns. Thus, there is </span><span class="si">{</span><span class="nb">abs</span><span class="p">(</span><span class="n">difference</span><span class="p">)</span><span class="si">}</span><span class="s2"> missing data columns in the imported data, which may represent </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">bp_missing</span><span class="p">)</span><span class="si">}</span><span class="s2"> bodyparts if each body-part has an x, y and p value. Either revise the SimBA project pose-configuration with </span><span class="si">{</span><span class="n">bp_missing</span><span class="si">}</span><span class="s2"> less body-part, or include </span><span class="si">{</span><span class="n">bp_missing</span><span class="si">}</span><span class="s2"> more body-part in the imported data&quot;</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">DataHeaderError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SIMBA ERROR: SimBA expects </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">new_headers</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns of data inside the files within project_folder/csv/input_csv directory. However, within file </span><span class="si">{</span><span class="n">filepath</span><span class="si">}</span><span class="s2"> file, SimBA found </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">data_df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span><span class="si">}</span><span class="s2"> columns. Thus, there is </span><span class="si">{</span><span class="nb">abs</span><span class="p">(</span><span class="n">difference</span><span class="p">)</span><span class="si">}</span><span class="s2"> more data columns in the imported data than anticipated, which may represent </span><span class="si">{</span><span class="nb">int</span><span class="p">(</span><span class="n">bp_missing</span><span class="p">)</span><span class="si">}</span><span class="s2"> bodyparts if each body-part has an x, y and p value. Either revise the SimBA project pose-configuration with </span><span class="si">{</span><span class="n">bp_missing</span><span class="si">}</span><span class="s2"> more body-part, or include </span><span class="si">{</span><span class="n">bp_missing</span><span class="si">}</span><span class="s2"> less body-part in the imported data&quot;</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">data_df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">new_headers</span>
            <span class="k">return</span> <span class="n">data_df</span></div>

<div class="viewcode-block" id="ConfigReader.get_number_of_header_columns_in_df"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.get_number_of_header_columns_in_df">[docs]</a>    <span class="k">def</span> <span class="nf">get_number_of_header_columns_in_df</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper to find the count of non-numerical rows at the top of a dataframe.</span>

<span class="sd">        :param pd.DataFrame data_df: Dataframe to find the count non-numerical header rows in.</span>
<span class="sd">        :returns int</span>
<span class="sd">        :raises DataHeaderError: All rows are non-numerical.</span>

<span class="sd">        :example:</span>
<span class="sd">        &gt;&gt;&gt; ConfigReader.get_number_of_header_columns_in_df(df=pd.DataFrame(data=[[1, 2, 3], [1, 2, 3]]))</span>
<span class="sd">        &gt;&gt;&gt; 0</span>
<span class="sd">        &gt;&gt;&gt; ConfigReader.get_number_of_header_columns_in_df(df=pd.DataFrame(data=[[&#39;Head_1&#39;, &#39;Body_2&#39;, &#39;Tail_3&#39;], [&#39;Some_nonsense&#39;, &#39;A_mistake&#39;, &#39;Maybe_multi_headers?&#39;], [11, 99, 109], [122, 43, 2091]]))</span>
<span class="sd">        &gt;&gt;&gt; 2</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)):</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">_</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">:]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">to_numeric</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">i</span>
            <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
                <span class="k">pass</span>
        <span class="k">raise</span> <span class="n">DataHeaderError</span><span class="p">(</span>
            <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Could find the count of header columns in dataframe. All values appear to be non-numeric&quot;</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="ConfigReader.find_video_of_file"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.find_video_of_file">[docs]</a>    <span class="k">def</span> <span class="nf">find_video_of_file</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">video_dir</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span><span class="p">],</span>
        <span class="n">filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">raise_error</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper to find the video file representing a known data file basename.</span>

<span class="sd">        :param Union[str, os.PathLike] video_dir: Directory holding putative video file.</span>
<span class="sd">        :param str filename: Data file name, e.g., ``Video_1``.</span>
<span class="sd">        :param bool raise_error: If True, raise error if no video can be found.</span>
<span class="sd">        :return Union[str, os.PathLike]: Path to video file.</span>


<span class="sd">        :example:</span>
<span class="sd">        &gt;&gt;&gt; config_reader = ConfigReader(config_path=&#39;My_SimBA_Config&#39;)</span>
<span class="sd">        &gt;&gt;&gt; config_reader.find_video_of_file(video_dir=config_reader.video_dir, filename=&#39;Video1&#39;)</span>
<span class="sd">        &gt;&gt;&gt; &#39;/project_folder/videos/Video1.mp4&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">all_files_in_video_folder</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">f</span> <span class="k">for</span> <span class="n">f</span> <span class="ow">in</span> <span class="nb">next</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">walk</span><span class="p">(</span><span class="n">video_dir</span><span class="p">))[</span><span class="mi">2</span><span class="p">]</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">f</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s2">&quot;.&quot;</span>
            <span class="p">]</span>
        <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">NoFilesFoundError</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;No files found in the </span><span class="si">{</span><span class="n">video_dir</span><span class="si">}</span><span class="s2"> directory&quot;</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">all_files_in_video_folder</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">video_dir</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">all_files_in_video_folder</span>
        <span class="p">]</span>
        <span class="n">return_path</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">for</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="n">all_files_in_video_folder</span><span class="p">:</span>
            <span class="n">_</span><span class="p">,</span> <span class="n">video_filename</span><span class="p">,</span> <span class="n">ext</span> <span class="o">=</span> <span class="n">get_fn_ext</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">video_filename</span> <span class="o">==</span> <span class="n">filename</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span>
                <span class="p">(</span><span class="n">ext</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;.mp4&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="n">ext</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s2">&quot;.avi&quot;</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="n">return_path</span> <span class="o">=</span> <span class="n">file_path</span>

        <span class="k">if</span> <span class="n">return_path</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">raise_error</span><span class="p">:</span>
            <span class="n">NoFileFoundWarning</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SimBA could not find a video file representing </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> in the project video directory&quot;</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">return_path</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">raise_error</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">NoFilesFoundError</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SimBA could not find a video file representing </span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> in the project video directory&quot;</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">return_path</span></div>

<div class="viewcode-block" id="ConfigReader.add_missing_ROI_cols"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.add_missing_ROI_cols">[docs]</a>    <span class="k">def</span> <span class="nf">add_missing_ROI_cols</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">shape_df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper to add missing ROI definitions (``Color BGR``, ``Thickness``, ``Color name``) in ROI info</span>
<span class="sd">        dataframes created by the first version of the SimBA ROI user-interface but analyzed using newer versions of SimBA.</span>


<span class="sd">        :param pd.DataFrame shape_df: Dataframe holding ROI definitions.</span>
<span class="sd">        :return pd.DataFrame with ``Color BGR``, ``Thickness``, ``Color name`` fields</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="s2">&quot;Color BGR&quot;</span> <span class="ow">in</span> <span class="n">shape_df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="n">shape_df</span><span class="p">[</span><span class="s2">&quot;Color BGR&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">)]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">shape_df</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="s2">&quot;Thickness&quot;</span> <span class="ow">in</span> <span class="n">shape_df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="n">shape_df</span><span class="p">[</span><span class="s2">&quot;Thickness&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">shape_df</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="s2">&quot;Color name&quot;</span> <span class="ow">in</span> <span class="n">shape_df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
            <span class="n">shape_df</span><span class="p">[</span><span class="s2">&quot;Color name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;White&quot;</span>

        <span class="k">return</span> <span class="n">shape_df</span></div>

<div class="viewcode-block" id="ConfigReader.remove_a_folder"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.remove_a_folder">[docs]</a>    <span class="k">def</span> <span class="nf">remove_a_folder</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">folder_dir</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">raise_error</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper to remove single directory.</span>

<span class="sd">        :param folder_dir: Directory to remove.</span>
<span class="sd">        :param bool raise_error: If True, raise ``NotDirectoryError`` error of folder does not exist.</span>
<span class="sd">        :raises NotDirectoryError: If ``raise_error`` and directory does not exist.</span>

<span class="sd">        :example:</span>
<span class="sd">        &gt;&gt;&gt; self.remove_a_folder(folder_dir&#39;gerbil/gerbil_data/featurized_data/temp&#39;)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">folder_dir</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></div>

<div class="viewcode-block" id="ConfigReader.remove_multiple_folders"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.remove_multiple_folders">[docs]</a>    <span class="k">def</span> <span class="nf">remove_multiple_folders</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">folders</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">os</span><span class="o">.</span><span class="n">PathLike</span><span class="p">],</span> <span class="n">raise_error</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper to remove multiple directories.</span>

<span class="sd">        :param folders List[os.PathLike]: List of directory paths.</span>
<span class="sd">        :param bool raise_error: If True, raise ``NotDirectoryError`` error of folder does not exist. if False, then pass. Default False.</span>
<span class="sd">        :raises NotDirectoryError: If ``raise_error`` and directory does not exist.</span>

<span class="sd">        :example:</span>
<span class="sd">        &gt;&gt;&gt; self.remove_multiple_folders(folders= [&#39;gerbil/gerbil_data/featurized_data/temp&#39;])</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">folders</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">folders</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">]</span>
        <span class="k">for</span> <span class="n">folder_path</span> <span class="ow">in</span> <span class="n">folders</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">raise_error</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">folder_path</span><span class="p">):</span>
                <span class="k">raise</span> <span class="n">NotDirectoryError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Cannot delete directory </span><span class="si">{</span><span class="n">folder_path</span><span class="si">}</span><span class="s2">. The directory does not exist.&quot;</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">folder_path</span><span class="p">):</span>
                <span class="n">shutil</span><span class="o">.</span><span class="n">rmtree</span><span class="p">(</span><span class="n">folder_path</span><span class="p">,</span> <span class="n">ignore_errors</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">pass</span></div>

<div class="viewcode-block" id="ConfigReader.find_animal_name_from_body_part_name"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.find_animal_name_from_body_part_name">[docs]</a>    <span class="k">def</span> <span class="nf">find_animal_name_from_body_part_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">bp_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">bp_dict</span><span class="p">:</span> <span class="nb">dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Given body-part name and animal body-part dict, returns the animal name</span>

<span class="sd">        :param str bp_name: Name of the body-part. E.g., ``Ear_1``.</span>
<span class="sd">        :param dict bp_dict: Nested dict holding animal names as keys and body-part names as and coordinates as values. Created by :meth:`simba.mixins.config_reader.ConfigReader.create_body_part_dictionary`</span>
<span class="sd">        :returns str</span>

<span class="sd">        :example:</span>
<span class="sd">        &gt;&gt;&gt; config_reader = ConfigReader(config_path=&#39;tests/data/test_projects/two_c57/project_folder/project_config.ini&#39;)</span>
<span class="sd">        &gt;&gt;&gt; ConfigReader.find_animal_name_from_body_part_name(bp_name=&#39;Ear_1&#39;, bp_dict=config_reader.animal_bp_dict)</span>
<span class="sd">        &gt;&gt;&gt; &#39;simon&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">for</span> <span class="n">animal_name</span><span class="p">,</span> <span class="n">animal_bps</span> <span class="ow">in</span> <span class="n">bp_dict</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">bp_name</span> <span class="ow">in</span> <span class="p">[</span><span class="n">x</span><span class="p">[:</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">animal_bps</span><span class="p">[</span><span class="s2">&quot;X_bps&quot;</span><span class="p">]]:</span>
                <span class="k">return</span> <span class="n">animal_name</span></div>

<div class="viewcode-block" id="ConfigReader.create_body_part_dictionary"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.create_body_part_dictionary">[docs]</a>    <span class="k">def</span> <span class="nf">create_body_part_dictionary</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">multi_animal_status</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
        <span class="n">animal_id_lst</span><span class="p">:</span> <span class="nb">list</span><span class="p">,</span>
        <span class="n">animal_cnt</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">x_cols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">y_cols</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span>
        <span class="n">p_cols</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">colors</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]]]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">List</span><span class="p">[</span><span class="n">Tuple</span><span class="p">]]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper to create dict of dict lookup of body-parts where the keys are animal names, and</span>
<span class="sd">        values are the body-part names.</span>

<span class="sd">        :param bool multi_animal_status: If True, it is a multi-animal SimBA project.</span>
<span class="sd">        :param List[str] multi_animal_id_lst: Animal names. Eg., [&#39;Simon, &#39;JJ&#39;]. Note: If a single animal project, this will be overridden and set to `Animal_1`.</span>
<span class="sd">        :param int animal_cnt: Number of animals in the SimBA project.</span>
<span class="sd">        :param List[str] x_cols: column names for body-part coordinates on x-axis. Returned by  :meth:`simba.mixins.config_reader.ConfigReader.get_body_part_names`</span>
<span class="sd">        :param List[str] y_cols: column names for body-part coordinates on y-axis. Returned by  :meth:`simba.mixins.config_reader.ConfigReader.get_body_part_names`</span>
<span class="sd">        :param List[str] p_cols: column names for body-part pose-estimation probability values. Returned by  :meth:`simba.mixins.config_reader.ConfigReader.get_body_part_names`</span>
<span class="sd">        :param Optional[List[List[Tuple[int, int, int]]]] colors: Optional bgr colors to associate with the body-parts. Returned by :meth:`simba.utils.data.create_color_palettes`.</span>
<span class="sd">        :returns dict</span>

<span class="sd">        :example:</span>
<span class="sd">        &gt;&gt;&gt; ConfigReader.create_body_part_dictionary(multi_animal_status=True, animal_id_lst=[&#39;simon&#39;,])</span>
<span class="sd">        &gt;&gt;&gt; {&#39;simon&#39;: {&#39;X_bps&#39;: [&#39;Nose_1_x&#39;, &#39;Ear_left_1_x&#39;, &#39;Ear_right_1_x&#39;, &#39;Center_1_x&#39;, &#39;Lat_left_1_x&#39;, &#39;Lat_right_1_x&#39;, &#39;Tail_base_1_x&#39;, &#39;Tail_end_1_x&#39;], &#39;Y_bps&#39;: [&#39;Nose_1_y&#39;, &#39;Ear_left_1_y&#39;, &#39;Ear_right_1_y&#39;, &#39;Center_1_y&#39;, &#39;Lat_left_1_y&#39;, &#39;Lat_right_1_y&#39;, &#39;Tail_base_1_y&#39;, &#39;Tail_end_1_y&#39;], &#39;colors&#39;: [[255.0, 0.0, 255.0], [223.125, 31.875, 255.0], [191.25, 63.75, 255.0], [159.375, 95.625, 255.0], [127.5, 127.5, 255.0], [95.625, 159.375, 255.0], [63.75, 191.25, 255.0], [31.875, 223.125, 255.0], [0.0, 255.0, 255.0]], &#39;P_bps&#39;: [&#39;Nose_1_p&#39;, &#39;Ear_left_1_p&#39;, &#39;Ear_right_1_p&#39;, &#39;Center_1_p&#39;, &#39;Lat_left_1_p&#39;, &#39;Lat_right_1_p&#39;, &#39;Tail_base_1_p&#39;, &#39;Tail_end_1_p&#39;]}, &#39;jj&#39;: {&#39;X_bps&#39;: [&#39;Nose_2_x&#39;, &#39;Ear_left_2_x&#39;, &#39;Ear_right_2_x&#39;, &#39;Center_2_x&#39;, &#39;Lat_left_2_x&#39;, &#39;Lat_right_2_x&#39;, &#39;Tail_base_2_x&#39;, &#39;Tail_end_2_x&#39;], &#39;Y_bps&#39;: [&#39;Nose_2_y&#39;, &#39;Ear_left_2_y&#39;, &#39;Ear_right_2_y&#39;, &#39;Center_2_y&#39;, &#39;Lat_left_2_y&#39;, &#39;Lat_right_2_y&#39;, &#39;Tail_base_2_y&#39;, &#39;Tail_end_2_y&#39;], &#39;colors&#39;: [[102.0, 127.5, 0.0], [102.0, 143.4375, 31.875], [102.0, 159.375, 63.75], [102.0, 175.3125, 95.625], [102.0, 191.25, 127.5], [102.0, 207.1875, 159.375], [102.0, 223.125, 191.25], [102.0, 239.0625, 223.125], [102.0, 255.0, 255.0]], &#39;P_bps&#39;: [&#39;Nose_2_p&#39;, &#39;Ear_left_2_p&#39;, &#39;Ear_right_2_p&#39;, &#39;Center_2_p&#39;, &#39;Lat_left_2_p&#39;, &#39;Lat_right_2_p&#39;, &#39;Tail_base_2_p&#39;, &#39;Tail_end_2_p&#39;]}}</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">animal_bp_dict</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">if</span> <span class="n">multi_animal_status</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">animal</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">animal_cnt</span><span class="p">):</span>
                <span class="n">animal_bp_dict</span><span class="p">[</span><span class="n">animal_id_lst</span><span class="p">[</span><span class="n">animal</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">animal_bp_dict</span><span class="p">[</span><span class="n">animal_id_lst</span><span class="p">[</span><span class="n">animal</span><span class="p">]][</span><span class="s2">&quot;X_bps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x_cols</span> <span class="k">if</span> <span class="n">animal_id_lst</span><span class="p">[</span><span class="n">animal</span><span class="p">]</span> <span class="ow">in</span> <span class="n">i</span>
                <span class="p">]</span>
                <span class="n">animal_bp_dict</span><span class="p">[</span><span class="n">animal_id_lst</span><span class="p">[</span><span class="n">animal</span><span class="p">]][</span><span class="s2">&quot;Y_bps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                    <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">y_cols</span> <span class="k">if</span> <span class="n">animal_id_lst</span><span class="p">[</span><span class="n">animal</span><span class="p">]</span> <span class="ow">in</span> <span class="n">i</span>
                <span class="p">]</span>
                <span class="k">if</span> <span class="n">colors</span><span class="p">:</span>
                    <span class="n">animal_bp_dict</span><span class="p">[</span><span class="n">animal_id_lst</span><span class="p">[</span><span class="n">animal</span><span class="p">]][</span><span class="s2">&quot;colors&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="n">animal</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">p_cols</span><span class="p">:</span>
                    <span class="n">animal_bp_dict</span><span class="p">[</span><span class="n">animal_id_lst</span><span class="p">[</span><span class="n">animal</span><span class="p">]][</span><span class="s2">&quot;P_bps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                        <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">p_cols</span> <span class="k">if</span> <span class="n">animal_id_lst</span><span class="p">[</span><span class="n">animal</span><span class="p">]</span> <span class="ow">in</span> <span class="n">i</span>
                    <span class="p">]</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">animal_bp_dict</span><span class="p">[</span><span class="n">animal_id_lst</span><span class="p">[</span><span class="n">animal</span><span class="p">]][</span><span class="s2">&quot;X_bps&quot;</span><span class="p">]:</span>
                    <span class="n">multi_animal_status</span> <span class="o">=</span> <span class="kc">False</span>
                    <span class="k">break</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">multi_animal_status</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">animal_cnt</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">animal</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">animal_cnt</span><span class="p">):</span>
                    <span class="n">currAnimalName</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Animal_</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">animal</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                    <span class="n">search_string_x</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">animal</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2">_x&quot;</span>
                    <span class="n">search_string_y</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">animal</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2">_y&quot;</span>
                    <span class="n">search_string_p</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;_</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">animal</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2">_p&quot;</span>
                    <span class="n">animal_bp_dict</span><span class="p">[</span><span class="n">currAnimalName</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                    <span class="n">animal_bp_dict</span><span class="p">[</span><span class="n">currAnimalName</span><span class="p">][</span><span class="s2">&quot;X_bps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                        <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x_cols</span> <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">search_string_x</span><span class="p">)</span>
                    <span class="p">]</span>
                    <span class="n">animal_bp_dict</span><span class="p">[</span><span class="n">currAnimalName</span><span class="p">][</span><span class="s2">&quot;Y_bps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                        <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">y_cols</span> <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">search_string_y</span><span class="p">)</span>
                    <span class="p">]</span>
                    <span class="k">if</span> <span class="n">colors</span><span class="p">:</span>
                        <span class="n">animal_bp_dict</span><span class="p">[</span><span class="n">currAnimalName</span><span class="p">][</span><span class="s2">&quot;colors&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="n">animal</span><span class="p">]</span>
                    <span class="k">if</span> <span class="n">p_cols</span><span class="p">:</span>
                        <span class="n">animal_bp_dict</span><span class="p">[</span><span class="n">currAnimalName</span><span class="p">][</span><span class="s2">&quot;P_bps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
                            <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">p_cols</span> <span class="k">if</span> <span class="n">i</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">search_string_p</span><span class="p">)</span>
                        <span class="p">]</span>
                <span class="k">if</span> <span class="n">animal_id_lst</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
                    <span class="k">for</span> <span class="n">animal</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">animal_id_lst</span><span class="p">)):</span>
                        <span class="n">currAnimalName</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;Animal_</span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">animal</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
                        <span class="n">animal_bp_dict</span><span class="p">[</span><span class="n">animal_id_lst</span><span class="p">[</span><span class="n">animal</span><span class="p">]]</span> <span class="o">=</span> <span class="n">animal_bp_dict</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span>
                            <span class="n">currAnimalName</span>
                        <span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">animal_bp_dict</span><span class="p">[</span><span class="s2">&quot;Animal_1&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="n">animal_bp_dict</span><span class="p">[</span><span class="s2">&quot;Animal_1&quot;</span><span class="p">][</span><span class="s2">&quot;X_bps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">x_cols</span><span class="p">]</span>
                <span class="n">animal_bp_dict</span><span class="p">[</span><span class="s2">&quot;Animal_1&quot;</span><span class="p">][</span><span class="s2">&quot;Y_bps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">y_cols</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">colors</span><span class="p">:</span>
                    <span class="n">animal_bp_dict</span><span class="p">[</span><span class="s2">&quot;Animal_1&quot;</span><span class="p">][</span><span class="s2">&quot;colors&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colors</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">p_cols</span><span class="p">:</span>
                    <span class="n">animal_bp_dict</span><span class="p">[</span><span class="s2">&quot;Animal_1&quot;</span><span class="p">][</span><span class="s2">&quot;P_bps&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">p_cols</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">animal_bp_dict</span></div>

<div class="viewcode-block" id="ConfigReader.get_body_part_names"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.get_body_part_names">[docs]</a>    <span class="k">def</span> <span class="nf">get_body_part_names</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper to extract pose-estimation data field names (x, y, p)</span>

<span class="sd">        :example:</span>
<span class="sd">        &gt;&gt;&gt; config_reader = ConfigReader(config_path=&#39;test/project_config.csv&#39;)</span>
<span class="sd">        &gt;&gt;&gt; config_reader.get_body_part_names()</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">x_cols</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">y_cols</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">p_cols</span> <span class="o">=</span> <span class="p">[],</span> <span class="p">[],</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">bp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">body_parts_lst</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">x_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bp</span><span class="si">}</span><span class="s2">_x&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">y_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bp</span><span class="si">}</span><span class="s2">_y&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">p_cols</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bp</span><span class="si">}</span><span class="s2">_p&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="ConfigReader.drop_bp_cords"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.drop_bp_cords">[docs]</a>    <span class="k">def</span> <span class="nf">drop_bp_cords</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">df</span><span class="p">:</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="n">raise_error</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper to remove pose-estimation fields from dataframe.</span>

<span class="sd">        :param pd.DataFrame df: pandas dataframe containing pose-estimation fields (body-part x, y, p fields)</span>
<span class="sd">        :param bool raise_error: If True, raise error if body-parts cant be found. Else, print warning</span>
<span class="sd">        :return pd.DataFrame: ``df`` without pose-estimation fields</span>

<span class="sd">        :example:</span>
<span class="sd">        &gt;&gt;&gt; config_reader = ConfigReader(config_path=&#39;test/project_folder/project_config.csv&#39;)</span>
<span class="sd">        &gt;&gt;&gt; df = read_df(config_reader.machine_results_paths[0], file_type=&#39;csv&#39;)</span>
<span class="sd">        &gt;&gt;&gt; df = config_reader.drop_bp_cords(df=df)</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">missing_body_part_fields</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bp_col_names</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">missing_body_part_fields</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">raise_error</span><span class="p">:</span>
            <span class="n">BodypartColumnNotFoundWarning</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SimBA could not drop body-part coordinates, some body-part names are missing in dataframe. SimBA expected the following body-parts, that could not be found inside the file: </span><span class="si">{</span><span class="n">missing_body_part_fields</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bp_col_names</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s2">&quot;ignore&quot;</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">missing_body_part_fields</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="n">raise_error</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">BodypartColumnNotFoundError</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SimBA could not drop body-part coordinates, some body-part names are missing in dataframe. SimBA expected the following body-parts, that could not be found inside the file: </span><span class="si">{</span><span class="n">missing_body_part_fields</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bp_col_names</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></div>

<div class="viewcode-block" id="ConfigReader.get_bp_headers"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.get_bp_headers">[docs]</a>    <span class="k">def</span> <span class="nf">get_bp_headers</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper to create ordered list of all column header fields for SimBA project dataframes.</span>

<span class="sd">        &gt;&gt;&gt; config_reader = ConfigReader(config_path=&#39;test/project_folder/project_config.ini&#39;)</span>
<span class="sd">        &gt;&gt;&gt; config_reader.get_bp_headers()</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">bp_headers</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">bp</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">body_parts_lst</span><span class="p">:</span>
            <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="n">c3</span> <span class="o">=</span> <span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bp</span><span class="si">}</span><span class="s2">_x&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bp</span><span class="si">}</span><span class="s2">_y&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">bp</span><span class="si">}</span><span class="s2">_p&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">bp_headers</span><span class="o">.</span><span class="n">extend</span><span class="p">((</span><span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">,</span> <span class="n">c3</span><span class="p">))</span></div>

<div class="viewcode-block" id="ConfigReader.read_config_entry"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.read_config_entry">[docs]</a>    <span class="k">def</span> <span class="nf">read_config_entry</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">config</span><span class="p">:</span> <span class="n">ConfigParser</span><span class="p">,</span>
        <span class="n">section</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">option</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">data_type</span><span class="p">:</span> <span class="n">Literal</span><span class="p">[</span><span class="s2">&quot;str&quot;</span><span class="p">,</span> <span class="s2">&quot;int&quot;</span><span class="p">,</span> <span class="s2">&quot;float&quot;</span><span class="p">,</span> <span class="s2">&quot;folder_path&quot;</span><span class="p">],</span>
        <span class="n">default_value</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">options</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="n">Any</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="nb">float</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper to read entry from a configparser.ConfigParser object</span>

<span class="sd">        :param ConfigParser config: Parsed SimBA project config</span>
<span class="sd">        :param str section: Project config section name</span>
<span class="sd">        :param str option: Project config option name</span>
<span class="sd">        :param str data_type: Type of data. E.g., ``str``, ``int``, ``float``, ``folder_path``.</span>
<span class="sd">        :param Optional[Any] default_value: If entry cannot be found, then default to this value.</span>
<span class="sd">        :param Optional[List[Any]] options: If not ``None``, then list of viable entries.</span>
<span class="sd">        :raise InvalidInputError: If returned value is not in ``options``.</span>
<span class="sd">        :raise MissingProjectConfigEntryError: If no entry is found and no ``default_value`` is provided.</span>

<span class="sd">        :return Union[str, float, int, os.Pathlike]</span>

<span class="sd">        :example:</span>
<span class="sd">        &gt;&gt;&gt; config = ConfigReader(config_path=&#39;tests/data/test_projects/two_c57/project_folder/project_config.ini&#39;)</span>
<span class="sd">        &gt;&gt;&gt; config.read_config_entry(config=self.config, section=&#39;Multi animal IDs&#39;, option=&#39;id_list&#39;, data_type=&#39;str&#39;)</span>
<span class="sd">        &gt;&gt;&gt; &#39;simon,jj&#39;</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">config</span><span class="o">.</span><span class="n">has_option</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">option</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">data_type</span> <span class="o">==</span> <span class="n">Dtypes</span><span class="o">.</span><span class="n">FLOAT</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">getfloat</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">data_type</span> <span class="o">==</span> <span class="n">Dtypes</span><span class="o">.</span><span class="n">INT</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">getint</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span>
                <span class="k">elif</span> <span class="n">data_type</span> <span class="o">==</span> <span class="n">Dtypes</span><span class="o">.</span><span class="n">STR</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                <span class="k">elif</span> <span class="n">data_type</span> <span class="o">==</span> <span class="n">Dtypes</span><span class="o">.</span><span class="n">FOLDER</span><span class="o">.</span><span class="n">value</span><span class="p">:</span>
                    <span class="n">value</span> <span class="o">=</span> <span class="n">config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">section</span><span class="p">,</span> <span class="n">option</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>
                        <span class="k">raise</span> <span class="n">NotDirectoryError</span><span class="p">(</span>
                            <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;The SimBA config file includes paths to a folder (</span><span class="si">{</span><span class="n">value</span><span class="si">}</span><span class="s2">) that does not exist.&quot;</span><span class="p">,</span>
                            <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                        <span class="p">)</span>
                <span class="k">if</span> <span class="n">options</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">value</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">options</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="n">InvalidInputError</span><span class="p">(</span>
                            <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">option</span><span class="si">}</span><span class="s2"> is set to </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">value</span><span class="p">)</span><span class="si">}</span><span class="s2"> in SimBA, but this is not among the valid options: (</span><span class="si">{</span><span class="n">options</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">,</span>
                            <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                        <span class="p">)</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">return</span> <span class="n">value</span>
                <span class="k">return</span> <span class="n">value</span>
            <span class="k">elif</span> <span class="n">default_value</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">default_value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">MissingProjectConfigEntryError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SimBA could not find an entry for option </span><span class="si">{</span><span class="n">option</span><span class="si">}</span><span class="s2"> under section </span><span class="si">{</span><span class="n">section</span><span class="si">}</span><span class="s2"> in the project_config.ini. Please specify the settings in the settings menu.&quot;</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="p">)</span>
        <span class="k">except</span> <span class="ne">ValueError</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">default_value</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">default_value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">MissingProjectConfigEntryError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SimBA could not find an entry for option </span><span class="si">{</span><span class="n">option</span><span class="si">}</span><span class="s2"> under section </span><span class="si">{</span><span class="n">section</span><span class="si">}</span><span class="s2"> in the project_config.ini. Please specify the settings in the settings menu.&quot;</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="p">)</span></div>

<div class="viewcode-block" id="ConfigReader.read_video_info_csv"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.read_video_info_csv">[docs]</a>    <span class="k">def</span> <span class="nf">read_video_info_csv</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">file_path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper to read the project_folder/logs/video_info.csv of the SimBA project in as a pd.DataFrame</span>
<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        file_path: str</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        pd.DataFrame</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">file_path</span><span class="p">):</span>
            <span class="k">raise</span> <span class="n">NoFilesFoundError</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Could not find the video_info.csv table in your SimBA project. Create it using the [Video parameters] tab. SimBA expects the file at location </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">info_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file_path</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="s2">&quot;Video&quot;</span><span class="p">,</span>
            <span class="s2">&quot;fps&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Resolution_width&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Resolution_height&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Distance_in_mm&quot;</span><span class="p">,</span>
            <span class="s2">&quot;pixels/mm&quot;</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="k">if</span> <span class="n">c</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">info_df</span><span class="o">.</span><span class="n">columns</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ParametersFileError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;The project &quot;project_folder/logs/video_info.csv&quot; does not not have an anticipated header (</span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s1">). Please re-create the file and make sure each video has a </span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s1"> value&#39;</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="p">)</span>
        <span class="n">info_df</span><span class="p">[</span><span class="s2">&quot;Video&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">info_df</span><span class="p">[</span><span class="s2">&quot;Video&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="p">[</span>
            <span class="s2">&quot;fps&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Resolution_width&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Resolution_height&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Distance_in_mm&quot;</span><span class="p">,</span>
            <span class="s2">&quot;pixels/mm&quot;</span><span class="p">,</span>
        <span class="p">]:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">info_df</span><span class="p">[</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">info_df</span><span class="p">[</span><span class="n">c</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ParametersFileError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s1">&#39;One or more values in the </span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s1"> column of the &quot;project_folder/logs/video_info.csv&quot; file could not be interpreted as a numeric value. Please re-create the file and make sure the entries in the </span><span class="si">{</span><span class="n">c</span><span class="si">}</span><span class="s1"> column are all numeric.&#39;</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="p">)</span>
        <span class="k">if</span> <span class="n">info_df</span><span class="p">[</span><span class="s2">&quot;fps&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">InvalidValueWarning</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Videos in your SimBA project have an FPS of 1 or less. Please use videos with more than one frame per second, or correct the inaccurate fps inside the `project_folder/logs/videos_info.csv` file&quot;</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">info_df</span></div>

<div class="viewcode-block" id="ConfigReader.read_video_info"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.read_video_info">[docs]</a>    <span class="k">def</span> <span class="nf">read_video_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span> <span class="n">video_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">raise_error</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">,</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper to read the meta-data (pixels per mm, resolution, fps) from the video_info.csv for a single input file.</span>

<span class="sd">        :param str video_name: The name of the video without extension to get the metadata for</span>
<span class="sd">        :param Optional[bool] raise_error: If True, raise error if video info for the video name cannot be found. Default: True.</span>
<span class="sd">        :raise ParametersFileError: If ``raise_error`` and video metadata info is not found</span>
<span class="sd">        :raise DuplicationError: If file contains multiple entries for the same video.</span>
<span class="sd">        :return (pd.DataFrame, float, float) representing all video info, pixels per mm, and fps</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">video_settings</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_info_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">video_info_df</span><span class="p">[</span><span class="s2">&quot;Video&quot;</span><span class="p">]</span> <span class="o">==</span> <span class="n">video_name</span>
        <span class="p">]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">video_settings</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">DuplicationError</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SimBA found multiple rows in the project_folder/logs/video_info.csv named </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">video_name</span><span class="p">)</span><span class="si">}</span><span class="s2">. Please make sure that each video name is represented ONCE in the video_info.csv&quot;</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="n">video_settings</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">raise_error</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ParametersFileError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;SimBA could not find </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">video_name</span><span class="p">)</span><span class="si">}</span><span class="s2"> in the video_info.csv file. Make sure all videos analyzed are represented in the project_folder/logs/video_info.csv file.&quot;</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">return</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">px_per_mm</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">video_settings</span><span class="p">[</span><span class="s2">&quot;pixels/mm&quot;</span><span class="p">])</span>
                <span class="n">fps</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">video_settings</span><span class="p">[</span><span class="s2">&quot;fps&quot;</span><span class="p">])</span>
                <span class="k">return</span> <span class="n">video_settings</span><span class="p">,</span> <span class="n">px_per_mm</span><span class="p">,</span> <span class="n">fps</span>
            <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
                <span class="k">raise</span> <span class="n">ParametersFileError</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Make sure the videos that are going to be analyzed are represented with APPROPRIATE VALUES inside the project_folder/logs/video_info.csv file in your SimBA project. Could not interpret the fps, pixels per millimeter and/or fps as numerical values for video </span><span class="si">{</span><span class="n">video_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="p">)</span></div>

<div class="viewcode-block" id="ConfigReader.check_multi_animal_status"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.check_multi_animal_status">[docs]</a>    <span class="k">def</span> <span class="nf">check_multi_animal_status</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper to check if the project is a multi-animal SimBA project.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">multi_animal_id_lst</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">has_section</span><span class="p">(</span><span class="s2">&quot;Multi animal IDs&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">animal</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">animal_cnt</span><span class="p">):</span>
                <span class="n">multi_animal_id_lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Animal_&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">animal</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
            <span class="n">multi_animal_status</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="n">multi_animal_id_str</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">read_config_entry</span><span class="p">(</span>
                <span class="n">config</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">config</span><span class="p">,</span>
                <span class="n">section</span><span class="o">=</span><span class="s2">&quot;Multi animal IDs&quot;</span><span class="p">,</span>
                <span class="n">option</span><span class="o">=</span><span class="s2">&quot;id_list&quot;</span><span class="p">,</span>
                <span class="n">data_type</span><span class="o">=</span><span class="s2">&quot;str&quot;</span><span class="p">,</span>
            <span class="p">)</span>
            <span class="n">multi_animal_id_lst</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">lstrip</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">multi_animal_id_str</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span>
            <span class="n">multi_animal_id_lst</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">multi_animal_id_lst</span> <span class="k">if</span> <span class="n">x</span> <span class="o">!=</span> <span class="s2">&quot;None&quot;</span><span class="p">]</span>
            <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">animal_cnt</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">multi_animal_id_lst</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">):</span>
                <span class="n">multi_animal_status</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">animal</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">animal_cnt</span><span class="p">):</span>
                    <span class="n">multi_animal_id_lst</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;Animal_</span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">animal</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)))</span>
                <span class="n">multi_animal_status</span> <span class="o">=</span> <span class="kc">False</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">multi_animal_status</span> <span class="o">=</span> <span class="n">multi_animal_status</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">multi_animal_id_list</span> <span class="o">=</span> <span class="n">multi_animal_id_lst</span><span class="p">[:</span> <span class="bp">self</span><span class="o">.</span><span class="n">animal_cnt</span><span class="p">]</span></div>

<div class="viewcode-block" id="ConfigReader.remove_roi_features"><a class="viewcode-back" href="../../../simba.mixins.html#simba.mixins.config_reader.ConfigReader.remove_roi_features">[docs]</a>    <span class="k">def</span> <span class="nf">remove_roi_features</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">data_dir</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">os</span><span class="o">.</span><span class="n">PathLike</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Helper to remove ROI-based features from datasets within a directory. The identified ROI-based fields are move to the</span>
<span class="sd">        ``project_folder/logs/ROI_data_{datetime}`` directory.</span>

<span class="sd">        .. note::</span>
<span class="sd">           ROI-based features are identified based on the combined criteria of (i) The prefix of the field is a named ROI in</span>
<span class="sd">           the ``project_folder/logs/ROI_definitions.h5`` file, and (ii) the suffix of the field is contained in the [&#39;in zone&#39;,</span>
<span class="sd">           &#39;n zone_cumulative_time&#39;, &#39;in zone_cumulative_percent&#39;, &#39;distance&#39;, &#39;facing&#39;]</span>

<span class="sd">        :param Union[str, os.PathLike] data_dir: directory with data to remove ROi features from.</span>

<span class="sd">        :example:</span>
<span class="sd">        &gt;&gt;&gt; self.remove_roi_features(&#39;/project_folder/csv/features_extracted&#39;)</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">ROI_COL_SUFFIXES</span> <span class="o">=</span> <span class="p">[</span>
            <span class="s2">&quot;in zone&quot;</span><span class="p">,</span>
            <span class="s2">&quot;n zone_cumulative_time&quot;</span><span class="p">,</span>
            <span class="s2">&quot;in zone_cumulative_percent&quot;</span><span class="p">,</span>
            <span class="s2">&quot;distance&quot;</span><span class="p">,</span>
            <span class="s2">&quot;facing&quot;</span><span class="p">,</span>
        <span class="p">]</span>

        <span class="n">check_if_dir_exists</span><span class="p">(</span><span class="n">in_dir</span><span class="o">=</span><span class="n">data_dir</span><span class="p">)</span>
        <span class="n">timer</span> <span class="o">=</span> <span class="n">SimbaTimer</span><span class="p">(</span><span class="n">start</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">filepaths</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">data_dir</span> <span class="o">+</span> <span class="sa">f</span><span class="s2">&quot;/*.</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="n">roi_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span>
            <span class="s2">&quot;logs&quot;</span><span class="p">,</span>
            <span class="sa">f</span><span class="s1">&#39;ROI_data_</span><span class="si">{</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%Y%m</span><span class="si">%d</span><span class="s2">%H%M%S&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">check_if_filepath_list_is_empty</span><span class="p">(</span>
            <span class="n">filepaths</span><span class="o">=</span><span class="n">filepaths</span><span class="p">,</span>
            <span class="n">error_msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;No .</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="si">}</span><span class="s2"> files found in </span><span class="si">{</span><span class="n">data_dir</span><span class="si">}</span><span class="s2">.&quot;</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="k">for</span> <span class="n">file_cnt</span><span class="p">,</span> <span class="n">file_path</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">filepaths</span><span class="p">):</span>
            <span class="n">_</span><span class="p">,</span> <span class="n">video_name</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">get_fn_ext</span><span class="p">(</span><span class="n">filepath</span><span class="o">=</span><span class="n">file_path</span><span class="p">)</span>
            <span class="n">roi_cols</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="n">df</span> <span class="o">=</span> <span class="n">read_df</span><span class="p">(</span><span class="n">file_path</span><span class="o">=</span><span class="n">file_path</span><span class="p">,</span> <span class="n">file_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">shape_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">shape_names</span><span class="p">:</span>
                <span class="n">roi_cols</span><span class="o">.</span><span class="n">update</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">shape_name</span> <span class="ow">in</span> <span class="n">x</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="n">ROI_COL_SUFFIXES</span><span class="p">:</span>
                <span class="n">roi_cols</span><span class="o">.</span><span class="n">update</span><span class="p">([</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">roi_cols</span> <span class="k">if</span> <span class="n">x</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">)])</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">roi_cols</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">NoDataFoundWarning</span><span class="p">(</span>
                    <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;NO ROI data found in </span><span class="si">{</span><span class="n">file_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
                    <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">roi_df</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="n">roi_cols</span><span class="p">)]</span>
                <span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">roi_cols</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
                <span class="n">roi_save_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">roi_dir</span><span class="p">,</span> <span class="n">video_name</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">roi_dir</span><span class="p">):</span>
                    <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">roi_dir</span><span class="p">)</span>
                <span class="n">write_df</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">roi_df</span><span class="p">,</span> <span class="n">file_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="p">,</span> <span class="n">save_path</span><span class="o">=</span><span class="n">roi_save_path</span><span class="p">)</span>
                <span class="n">write_df</span><span class="p">(</span><span class="n">df</span><span class="o">=</span><span class="n">df</span><span class="p">,</span> <span class="n">file_type</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">file_type</span><span class="p">,</span> <span class="n">save_path</span><span class="o">=</span><span class="n">file_path</span><span class="p">)</span>
                <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;ROI features (N=</span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">roi_cols</span><span class="p">)</span><span class="si">}</span><span class="s2">) removed from </span><span class="si">{</span><span class="n">video_name</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>
        <span class="n">timer</span><span class="o">.</span><span class="n">stop_timer</span><span class="p">()</span>
        <span class="n">stdout_success</span><span class="p">(</span>
            <span class="n">msg</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;ROI features removed from </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">filepaths</span><span class="p">)</span><span class="si">}</span><span class="s2"> files in the </span><span class="si">{</span><span class="n">data_dir</span><span class="si">}</span><span class="s2"> directory. The ROI features has been moved to the </span><span class="si">{</span><span class="n">roi_dir</span><span class="si">}</span><span class="s2"> directory&quot;</span><span class="p">,</span>
            <span class="n">elapsed_time</span><span class="o">=</span><span class="n">timer</span><span class="o">.</span><span class="n">elapsed_time_str</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
        <span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">create_log_msg_from_init_args</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">locals</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>

        <span class="k">def</span> <span class="nf">has_methods_or_classes</span><span class="p">(</span><span class="n">obj</span><span class="p">):</span>
            <span class="k">return</span> <span class="nb">any</span><span class="p">(</span><span class="n">callable</span><span class="p">(</span><span class="n">attr</span><span class="p">)</span> <span class="k">for</span> <span class="n">attr</span> <span class="ow">in</span> <span class="nb">dir</span><span class="p">(</span><span class="n">obj</span><span class="p">))</span>

        <span class="k">def</span> <span class="nf">remove_keys_with_methods_or_classes</span><span class="p">(</span><span class="n">dictionary</span><span class="p">):</span>
            <span class="k">return</span> <span class="p">{</span>
                <span class="n">key</span><span class="p">:</span> <span class="n">value</span>
                <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">dictionary</span><span class="o">.</span><span class="n">items</span><span class="p">()</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">has_methods_or_classes</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
            <span class="p">}</span>

        <span class="n">msg</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
        <span class="nb">locals</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;self&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="nb">locals</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;__class__&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="nb">locals</span> <span class="o">=</span> <span class="n">remove_keys_with_methods_or_classes</span><span class="p">(</span><span class="nb">locals</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">cnt</span><span class="p">,</span> <span class="p">(</span><span class="n">k</span><span class="p">,</span> <span class="n">v</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">locals</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="n">msg</span> <span class="o">+=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="k">if</span> <span class="n">cnt</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="nb">locals</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span> <span class="o">-</span> <span class="mi">1</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">+=</span> <span class="s2">&quot;, &quot;</span>
        <span class="k">return</span> <span class="n">msg</span>

    <span class="k">def</span> <span class="nf">create_logger</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">logging</span><span class="o">.</span><span class="n">Logger</span><span class="o">.</span><span class="n">manager</span><span class="o">.</span><span class="n">loggerDict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
            <span class="n">log_config</span> <span class="o">=</span> <span class="n">get_log_config</span><span class="p">()</span>
            <span class="n">log_config</span><span class="p">[</span><span class="s2">&quot;handlers&quot;</span><span class="p">][</span><span class="s2">&quot;file_handler&quot;</span><span class="p">][</span><span class="s2">&quot;filename&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">logs_path</span><span class="p">,</span> <span class="s2">&quot;project_log.log&quot;</span>
            <span class="p">)</span>
            <span class="n">logging</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">dictConfig</span><span class="p">(</span><span class="n">log_config</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logs_path</span><span class="p">,</span> <span class="s2">&quot;project_log.log&quot;</span><span class="p">)):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Logging initiated in project </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="si">}</span><span class="s2">...&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">create_third_part_append_logger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">()</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
        <span class="n">handler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="n">path</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>  <span class="c1"># or whatever</span>
        <span class="n">handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%(asctime)s</span><span class="s2"> </span><span class="si">%(levelname)s</span><span class="s2"> </span><span class="si">%(message)s</span><span class="s2">&quot;</span><span class="p">))</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">add_video_to_video_info</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">video_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">fps</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span>
        <span class="n">width</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">height</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">pixels_per_mm</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">distance_mm</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.0</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_info_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">video_info_df</span><span class="p">)]</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">video_name</span><span class="p">,</span>
            <span class="n">fps</span><span class="p">,</span>
            <span class="n">width</span><span class="p">,</span>
            <span class="n">height</span><span class="p">,</span>
            <span class="n">distance_mm</span><span class="p">,</span>
            <span class="n">pixels_per_mm</span><span class="p">,</span>
        <span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_info_df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Video&quot;</span><span class="p">],</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">keep</span><span class="o">=</span><span class="s2">&quot;last&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">video_info_df</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">video_info_df</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;Video&quot;</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">video_info_df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">project_path</span><span class="p">,</span> <span class="n">Paths</span><span class="o">.</span><span class="n">VIDEO_INFO</span><span class="o">.</span><span class="n">value</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">PermissionError</span><span class="p">(</span>
                <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;SimBA tried to write to project_folder/logs/video_info.csv, but was not allowed. If this file is open in another program, try closing it.&quot;</span><span class="p">,</span>
                <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
            <span class="p">)</span>
        <span class="n">stdout_success</span><span class="p">(</span>
            <span class="n">msg</span><span class="o">=</span><span class="s2">&quot;Video info has been UPDATED at project_folder/logs/video_info.csv&quot;</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="p">,</span>
        <span class="p">)</span></div>


<span class="c1"># config = ConfigReader(config_path=&#39;/Users/simon/Desktop/envs/simba_dev/tests/data/test_projects/two_c57/project_folder/project_config.ini&#39;, read_video_info=False)</span>

<span class="c1"># config.read_roi_data()</span>


<span class="c1"># config = ConfigReader(config_path=&#39;/Users/simon/Desktop/envs/troubleshooting/Nastacia_unsupervised/project_folder/project_config.ini&#39;, read_video_info=False)</span>
<span class="c1"># config.read_roi_data()</span>
<span class="c1"># config.remove_roi_features(&#39;/Users/simon/Desktop/envs/troubleshooting/Nastacia_unsupervised/project_folder/csv/features_extracted&#39;)</span>

<span class="c1"># remove_roi_features(</span>
<span class="c1">#     config_path=&#39;/Users/simon/Desktop/envs/troubleshooting/Nastacia_unsupervised/project_folder/project_config.ini&#39;,</span>
<span class="c1">#     data_dir=&#39;/Users/simon/Desktop/envs/troubleshooting/Nastacia_unsupervised/project_folder/csv/features_extracted&#39;)</span>

<span class="c1"># test = ConfigReader(config_path=&#39;/Users/simon/Desktop/envs/troubleshooting/two_black_animals_14bp/project_folder/project_config.ini&#39;)</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, sronilsson.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>